<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 Bingo Generator</title>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <style>
        /* --- Page Layout & Controls --- */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f0f0f0;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 10px; /* Reduced padding for mobile */
            margin: 0;
        }

        .controls {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            width: 95%; /* Responsive width */
            max-width: 600px;
            text-align: center;
            box-sizing: border-box;
        }

        textarea {
            width: 100%;
            height: 80px;
            margin-bottom: 15px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box; /* Ensures padding doesn't break width */
        }

        .btn-group {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap; /* Allows buttons to stack on very small screens */
        }

        button {
            color: white;
            border: none;
            padding: 12px 20px; /* Larger touch targets for mobile */
            font-size: 16px;
            cursor: pointer;
            border-radius: 4px;
            font-weight: bold;
            flex: 1; /* Buttons share space equally */
            white-space: nowrap;
        }

        .btn-gen { background-color: #002060; }
        .btn-gen:hover { background-color: #003399; }

        .btn-save { background-color: #28a745; }
        .btn-save:hover { background-color: #218838; }

        /* --- The Bingo Card Visuals --- */
        .bingo-card {
            background-color: #002060;
            padding: 15px;
            border-radius: 8px;
            
            /* RESPONSIVE FIXES HERE */
            width: 95%; 
            max-width: 500px; /* Never gets larger than 500px */
            
            display: flex;
            flex-direction: column;
            align-items: center;
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
            box-sizing: border-box;
            margin: 0 auto; /* Center it */
        }

        .header {
            text-align: center;
            margin-bottom: 15px;
            position: relative;
        }

        .year {
            color: white;
            font-size: 20px;
            font-weight: bold;
            display: block;
            margin-bottom: 5px;
            letter-spacing: 2px;
        }

        .title-banner {
            background-color: #ffe600;
            color: black;
            font-size: 32px; /* Slightly smaller base size */
            font-weight: 900;
            padding: 0px 20px;
            transform: rotate(-3deg);
            display: inline-block;
            box-shadow: 3px 3px 0px rgba(0,0,0,0.2);
            letter-spacing: 2px;
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            grid-template-rows: repeat(5, 1fr);
            gap: 6px; /* Slightly smaller gap */
            width: 100%;
            aspect-ratio: 1 / 1;
        }

        .square {
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 2px;
            
            /* Responsive Font Sizing */
            font-size: 13px; 
            
            font-weight: 600;
            word-wrap: break-word;
            line-height: 1.1;
            height: 100%;
            box-sizing: border-box;
            overflow: hidden;
        }

        /* Checkerboard Pattern Logic */
        .square:nth-child(odd) { background-color: #feeaa0; }
        .square:nth-child(even) { background-color: #9cc2fa; }

        /* The FREE Space Logic */
        .square.free-space {
            background-color: white !important;
            flex-direction: column;
            color: black;
        }

        .star {
            font-size: 30px; /* Adaptive size */
            color: #ffe600;
            line-height: 1;
            text-shadow: 0 0 2px black;
        }
        
        .free-text {
            font-size: 8px;
            font-weight: 900;
            text-transform: uppercase;
        }

        /* --- MOBILE SPECIFIC OVERRIDES --- */
        @media (max-width: 400px) {
            .bingo-card { padding: 10px; }
            .grid-container { gap: 3px; }
            .square { font-size: 10px; }
            .title-banner { font-size: 24px; padding: 0 15px; }
            .year { font-size: 16px; }
            .star { font-size: 24px; }
        }

    </style>
</head>
<body>

    <div class="controls">
        <h2>Bingo Generator</h2>
        <p style="margin-top:0; font-size: 0.9em; color: #555;">Enter 24 items (one per line):</p>
        <textarea id="entriesInput" placeholder="Go to gym&#10;Read a book&#10;Drink water..."></textarea>
        <div class="btn-group">
            <button class="btn-gen" onclick="generateBingo()">Generate</button>
            <button class="btn-save" onclick="downloadCard()">Save Image</button>
        </div>
    </div>

    <div class="bingo-card" id="cardArea">
        <div class="header">
            <span class="year">2026</span>
            <div class="title-banner">BINGO</div>
        </div>

        <div class="grid-container" id="grid">
            </div>
    </div>

    <script>
        const defaultEntries = Array.from({length: 24}, (_, i) => `Entry ${i + 1}`);

        function generateBingo() {
            const input = document.getElementById('entriesInput').value;
            let entries = input.split('\n').map(e => e.trim()).filter(e => e);

            if (entries.length < 24) {
                if(entries.length === 0) {
                    entries = defaultEntries; 
                } else {
                    while (entries.length < 24) {
                        entries = entries.concat(entries);
                    }
                }
            }

            for (let i = entries.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [entries[i], entries[j]] = [entries[j], entries[i]];
            }

            const grid = document.getElementById('grid');
            grid.innerHTML = ''; 

            let entryIndex = 0;

            for (let i = 0; i < 25; i++) {
                const div = document.createElement('div');
                div.className = 'square';

                if (i === 12) {
                    div.classList.add('free-space');
                    div.innerHTML = '<span class="star">â˜…</span><span class="free-text">FREE</span>';
                } else {
                    div.innerText = entries[entryIndex];
                    entryIndex++;
                }
                grid.appendChild(div);
            }
        }

        function downloadCard() {
            const cardElement = document.getElementById("cardArea");
            
            // Increased scale to 3 for better quality when saving on mobile
            html2canvas(cardElement, {
                scale: 3, 
                backgroundColor: null
            }).then(canvas => {
                const link = document.createElement('a');
                link.download = 'bingo-card.png';
                link.href = canvas.toDataURL();
                link.click();
            });
        }

        window.onload = generateBingo;
    </script>
</body>
</html>